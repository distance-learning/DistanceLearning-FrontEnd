<div>
  <md-progress-linear md-mode="indeterminate"
                      ng-if="testBuildQuestion.loading"></md-progress-linear>
  <div class="test-build"
       layout="column"
       layout-wrap
       ng-cloak
       ng-if="!testBuildQuestion.loading">
    <menu-client></menu-client>
    <div layout="column" layout-align="center center">
      <div class="test-build-container"
           layout="column" layout-align="start start">
        <div class="test-build-content"
             layout="column" layout-align="center start"
             layout-padding>
          <h3 inline-edit="testBuildQuestion.question.name"
              inline-edit-callback="testBuildQuestion.editQuestionTitle(newValue)"
              inline-edit-btn-edit=""
              inline-edit-on-blur="save"
              inline-edit-on-click
              inline-edit-textarea>
          </h3>

          <div ng-show="testBuildQuestion.uploader.isHTML5"
               ng-if="!testBuildQuestion.question.image">
            <div class="drop-file-container"
                 nv-file-drop="" uploader="testBuildQuestion.uploader"
                 ng-if="!testBuildQuestion.uploader.queue.length">
              Перетягніть файл для завантаження(запитання)
            </div>
            <div layout="column"
                 ng-if="testBuildQuestion.uploader.queue.length">
              <b>Ім'я файлу: <span ng-bind="testBuildQuestion.uploader.queue[0].file.name"></span></b>

              <div layout>
                <md-button class="md-icon-button" aria-label=""
                           ng-click="testBuildQuestion.uploader.queue[0].remove()">
                  <md-icon md-svg-icon="{{ testBuildQuestion.removeFileIconURL }}"></md-icon>
                  <md-tooltip>Видалити</md-tooltip>
                </md-button>
                <div ng-show="testBuildQuestion.uploader.isHTML5"
                     ng-thumb="{ file: testBuildQuestion.uploader.queue[0]._file, height: 100 }"></div>
              </div>
            </div>
          </div>
          <div class="preview-img"
               layout
               ng-if="testBuildQuestion.question.image">
            <md-button class="md-icon-button" aria-label=""
                       ng-click="testBuildQuestion.removeImg()">
              <md-icon md-svg-icon="{{ testBuildQuestion.removeFileIconURL }}"></md-icon>
              <md-tooltip>Видалити</md-tooltip>
            </md-button>
            <img ng-src="{{ testBuildQuestion.question.image }}" alt=""/>
          </div>

          <md-button class="md-icon-button" aria-label=""
                     ng-click="testBuildQuestion.addAnswer()">
            <md-icon md-svg-icon="{{ testBuildQuestion.addAnswerFileIconURL }}"></md-icon>
            <md-tooltip md-direction="right">Додати варіант</md-tooltip>
          </md-button>
          <div class="test-answer-container"
               layout="column" layout-padding layout-wrap>
            <div class="test-answer-item"
                 layout layout-xs="column" layout-align="start start"
                 ng-repeat="answer in testBuildQuestion.question.answers track by $index">
              <md-checkbox ng-model="answer.iscorrectly" aria-label=""></md-checkbox>
              <div class="test-answer-item-name" layout-margin
                   inline-edit="answer.body"
                   inline-edit-callback="testBuildQuestion.editAnswerName(newValue, answer)"
                   inline-edit-btn-edit=""
                   inline-edit-on-blur="save"
                   inline-edit-on-click
                   inline-edit-textarea>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="test-build-question-buttons">
        <md-button class="md-raised test-create-question-button"
                   ng-click="testBuildQuestion.createQuestion()">
          Додати запитання
        </md-button>
        <md-button class="md-raised test-create-question-button"
                   ng-click="testBuildQuestion.cancelQuestion()">
          Відмінити
        </md-button>
      </div>
    </div>
    <footer></footer>
  </div>
</div>
